#!/usr/bin/python

from mininet.net import Mininet
from mininet.node import Controller, RemoteController
from mininet.cli import CLI
from mininet.log import setLogLevel, info

def myNet():

    net = Mininet(topo=topo, host=CPULimitedHost, link=TCLink)
    
       
    info( '*** Adding controller\n' )  
     
    c0=net.addController(name='c0',  
            controller=RemoteController,  
            ip='127.0.0.1',  
            port=6633)  
     
    c1=net.addController(name='c1',  
            controller=RemoteController,  
            ip='127.0.0.2',  
            port=6634)  
    c2=net.addController(name='c2',  
            controller=RemoteController,  
            ip='127.0.0.3',  
            port=6635)  
    c3=net.addController(name='c3',  
            controller=RemoteController,  
            ip='4',  
            port=6636)  
 

    
    # add nodes, switches first...
    RockHill = net.addSwitch( 's0' )
    Charlotte = net.addSwitch( 's1' )
    Bethune = net.addSwitch( 's2' )
    Lancaster = net.addSwitch( 's3' )
    Courtney = net.addSwitch( 's4' )
    Lexington = net.addSwitch( 's5' )
    Concord = net.addSwitch( 's6' )
    Salisbury = net.addSwitch( 's7' )
    HighPoint = net.addSwitch( 's8' )
    Asheboro = net.addSwitch( 's9' )
    Orangeburg = net.addSwitch( 's10' )
    Aiken = net.addSwitch( 's11' )
    Chester = net.addSwitch( 's12' )
    Columbia = net.addSwitch( 's13' )
    Sumter = net.addSwitch( 's14' )
    Georgetown = net.addSwitch( 's15' )
    MoncksCorner = net.addSwitch( 's16' )
    Charleston = net.addSwitch( 's17' )
    StGeorge = net.addSwitch( 's18' )
    Walterboro = net.addSwitch( 's19' )
    Yemassee = net.addSwitch( 's20' )
    Augusta = net.addSwitch( 's21' )
    HiltonHead = net.addSwitch( 's22' )
    Beaufort = net.addSwitch( 's23' )
    Savannah = net.addSwitch( 's24' )
    Greenwood = net.addSwitch( 's25' )
    DueWest = net.addSwitch( 's26' )
    Spartanburg = net.addSwitch( 's27' )
    Asheville = net.addSwitch( 's28' )
    Boone = net.addSwitch( 's29' )
    Hickory = net.addSwitch( 's30' )
    Anderson = net.addSwitch( 's31' )
    Clemson = net.addSwitch( 's32' )
    Toccoa = net.addSwitch( 's33' )
    Greenville = net.addSwitch( 's34' )
    MyrtleBeach = net.addSwitch( 's35' )
    Florence = net.addSwitch( 's36' )
    Baldwin = net.addSwitch( 's37' )
    Sparta = net.addSwitch( 's38' )
    LevelCross = net.addSwitch( 's39' )
    Greensboro = net.addSwitch( 's40' )
    Raleigh = net.addSwitch( 's41' )
    RockyMount = net.addSwitch( 's42' )
    Fayetteville = net.addSwitch( 's43' )
    Wilmington = net.addSwitch( 's44' )

    # ... and now hosts
    RockHill_host = net.addHost( 'h0' )
    Charlotte_host = net.addHost( 'h1' )
    Bethune_host = net.addHost( 'h2' )
    Lancaster_host = net.addHost( 'h3' )
    Courtney_host = net.addHost( 'h4' )
    Lexington_host = net.addHost( 'h5' )
    Concord_host = net.addHost( 'h6' )
    Salisbury_host = net.addHost( 'h7' )
    HighPoint_host = net.addHost( 'h8' )
    Asheboro_host = net.addHost( 'h9' )
    Orangeburg_host = net.addHost( 'h10' )
    Aiken_host = net.addHost( 'h11' )
    Chester_host = net.addHost( 'h12' )
    Columbia_host = net.addHost( 'h13' )
    Sumter_host = net.addHost( 'h14' )
    Georgetown_host = net.addHost( 'h15' )
    MoncksCorner_host = net.addHost( 'h16' )
    Charleston_host = net.addHost( 'h17' )
    StGeorge_host = net.addHost( 'h18' )
    Walterboro_host = net.addHost( 'h19' )
    Yemassee_host = net.addHost( 'h20' )
    Augusta_host = net.addHost( 'h21' )
    HiltonHead_host = net.addHost( 'h22' )
    Beaufort_host = net.addHost( 'h23' )
    Savannah_host = net.addHost( 'h24' )
    Greenwood_host = net.addHost( 'h25' )
    DueWest_host = net.addHost( 'h26' )
    Spartanburg_host = net.addHost( 'h27' )
    Asheville_host = net.addHost( 'h28' )
    Boone_host = net.addHost( 'h29' )
    Hickory_host = net.addHost( 'h30' )
    Anderson_host = net.addHost( 'h31' )
    Clemson_host = net.addHost( 'h32' )
    Toccoa_host = net.addHost( 'h33' )
    Greenville_host = net.addHost( 'h34' )
    MyrtleBeach_host = net.addHost( 'h35' )
    Florence_host = net.addHost( 'h36' )
    Baldwin_host = net.addHost( 'h37' )
    Sparta_host = net.addHost( 'h38' )
    LevelCross_host = net.addHost( 'h39' )
    Greensboro_host = net.addHost( 'h40' )
    Raleigh_host = net.addHost( 'h41' )
    RockyMount_host = net.addHost( 'h42' )
    Fayetteville_host = net.addHost( 'h43' )
    Wilmington_host = net.addHost( 'h44' )

    # add edges between switch and corresponding host
    net.addLink( RockHill , RockHill_host )
    net.addLink( Charlotte , Charlotte_host )
    net.addLink( Bethune , Bethune_host )
    net.addLink( Lancaster , Lancaster_host )
    net.addLink( Courtney , Courtney_host )
    net.addLink( Lexington , Lexington_host )
    net.addLink( Concord , Concord_host )
    net.addLink( Salisbury , Salisbury_host )
    net.addLink( HighPoint , HighPoint_host )
    net.addLink( Asheboro , Asheboro_host )
    net.addLink( Orangeburg , Orangeburg_host )
    net.addLink( Aiken , Aiken_host )
    net.addLink( Chester , Chester_host )
    net.addLink( Columbia , Columbia_host )
    net.addLink( Sumter , Sumter_host )
    net.addLink( Georgetown , Georgetown_host )
    net.addLink( MoncksCorner , MoncksCorner_host )
    net.addLink( Charleston , Charleston_host )
    net.addLink( StGeorge , StGeorge_host )
    net.addLink( Walterboro , Walterboro_host )
    net.addLink( Yemassee , Yemassee_host )
    net.addLink( Augusta , Augusta_host )
    net.addLink( HiltonHead , HiltonHead_host )
    net.addLink( Beaufort , Beaufort_host )
    net.addLink( Savannah , Savannah_host )
    net.addLink( Greenwood , Greenwood_host )
    net.addLink( DueWest , DueWest_host )
    net.addLink( Spartanburg , Spartanburg_host )
    net.addLink( Asheville , Asheville_host )
    net.addLink( Boone , Boone_host )
    net.addLink( Hickory , Hickory_host )
    net.addLink( Anderson , Anderson_host )
    net.addLink( Clemson , Clemson_host )
    net.addLink( Toccoa , Toccoa_host )
    net.addLink( Greenville , Greenville_host )
    net.addLink( MyrtleBeach , MyrtleBeach_host )
    net.addLink( Florence , Florence_host )
    net.addLink( Baldwin , Baldwin_host )
    net.addLink( Sparta , Sparta_host )
    net.addLink( LevelCross , LevelCross_host )
    net.addLink( Greensboro , Greensboro_host )
    net.addLink( Raleigh , Raleigh_host )
    net.addLink( RockyMount , RockyMount_host )
    net.addLink( Fayetteville , Fayetteville_host )
    net.addLink( Wilmington , Wilmington_host )

    # add edges between switches
    net.addLink( RockHill , Charlotte, bw=10, delay='0.19038018985ms')
    net.addLink( RockHill , Charlotte, bw=10, delay='0.19038018985ms')
    net.addLink( RockHill , Lancaster, bw=10, delay='0.165070696006ms')
    net.addLink( RockHill , Chester, bw=10, delay='0.152179762294ms')
    net.addLink( Charlotte , Spartanburg, bw=10, delay='0.527348642307ms')
    net.addLink( Charlotte , Concord, bw=10, delay='0.159095386113ms')
    net.addLink( Bethune , Lancaster, bw=10, delay='0.261551098098ms')
    net.addLink( Bethune , Florence, bw=10, delay='0.300378343317ms')
    net.addLink( Bethune , Sumter, bw=10, delay='0.27941530441ms')
    net.addLink( Courtney , LevelCross, bw=10, delay='0.248231981487ms')
    net.addLink( Courtney , Baldwin, bw=10, delay='0.446557502859ms')
    net.addLink( Courtney , Lexington, bw=10, delay='0.214540164387ms')
    net.addLink( Courtney , Lexington, bw=10, delay='0.214540164387ms')
    net.addLink( Lexington , HighPoint, bw=10, delay='0.135760125987ms')
    net.addLink( Lexington , Asheboro, bw=10, delay='0.212032019707ms')
    net.addLink( Lexington , Concord, bw=10, delay='0.278407808291ms')
    net.addLink( Lexington , Salisbury, bw=10, delay='0.139942886385ms')
    net.addLink( Concord , Salisbury, bw=10, delay='0.143270541339ms')
    net.addLink( HighPoint , Greensboro, bw=10, delay='0.117795586955ms')
    net.addLink( HighPoint , Asheboro, bw=10, delay='0.16527290506ms')
    net.addLink( Orangeburg , StGeorge, bw=10, delay='0.217567894146ms')
    net.addLink( Orangeburg , Columbia, bw=10, delay='0.299628364087ms')
    net.addLink( Aiken , Augusta, bw=10, delay='0.120322045744ms')
    net.addLink( Aiken , Columbia, bw=10, delay='0.406604815013ms')
    net.addLink( Chester , DueWest, bw=10, delay='0.585342555094ms')
    net.addLink( Chester , Columbia, bw=10, delay='0.40660763331ms')
    net.addLink( Columbia , Augusta, bw=10, delay='0.520119719121ms')
    net.addLink( Columbia , Sumter, bw=10, delay='0.328107410704ms')
    net.addLink( Sumter , MoncksCorner, bw=10, delay='0.437584031059ms')
    net.addLink( Sumter , Florence, bw=10, delay='0.312401431321ms')
    net.addLink( Sumter , Georgetown, bw=10, delay='0.580430941016ms')
    net.addLink( Georgetown , MyrtleBeach, bw=10, delay='0.260819409279ms')
    net.addLink( MoncksCorner , Charleston, bw=10, delay='0.24019137022ms')
    net.addLink( Charleston , Savannah, bw=10, delay='0.681297623507ms')
    net.addLink( Charleston , StGeorge, bw=10, delay='0.383304470867ms')
    net.addLink( Charleston , MyrtleBeach, bw=10, delay='0.713762848571ms')
    net.addLink( StGeorge , Walterboro, bw=10, delay='0.164454259312ms')
    net.addLink( Walterboro , Yemassee, bw=10, delay='0.149626441573ms')
    net.addLink( Yemassee , Savannah, bw=10, delay='0.362830155332ms')
    net.addLink( Yemassee , HiltonHead, bw=10, delay='0.271816654297ms')
    net.addLink( Yemassee , Beaufort, bw=10, delay='0.169617920355ms')
    net.addLink( Yemassee , Beaufort, bw=10, delay='0.169617920355ms')
    net.addLink( Augusta , Savannah, bw=10, delay='0.900667623351ms')
    net.addLink( Augusta , Anderson, bw=10, delay='0.650632935882ms')
    net.addLink( HiltonHead , Savannah, bw=10, delay='0.182276920773ms')
    net.addLink( Greenwood , DueWest, bw=10, delay='0.131283818646ms')
    net.addLink( Greenwood , DueWest, bw=10, delay='0.131283818646ms')
    net.addLink( DueWest , Anderson, bw=10, delay='0.155463654717ms')
    net.addLink( Spartanburg , Greenville, bw=10, delay='0.22098869513ms')
    net.addLink( Spartanburg , Hickory, bw=10, delay='0.519850432561ms')
    net.addLink( Asheville , Greenville, bw=10, delay='0.429263221723ms')
    net.addLink( Asheville , Hickory, bw=10, delay='0.561765268237ms')
    net.addLink( Boone , Baldwin, bw=10, delay='0.0981318899728ms')
    net.addLink( Boone , Baldwin, bw=10, delay='0.0981318899728ms')
    net.addLink( Anderson , Clemson, bw=10, delay='0.133909225818ms')
    net.addLink( Anderson , Toccoa, bw=10, delay='0.320300660619ms')
    net.addLink( Clemson , Toccoa, bw=10, delay='0.237848634126ms')
    net.addLink( Clemson , Greenville, bw=10, delay='0.226922817216ms')
    net.addLink( Toccoa , Greenville, bw=10, delay='0.462792978544ms')
    net.addLink( MyrtleBeach , Florence, bw=10, delay='0.500458533008ms')
    net.addLink( MyrtleBeach , Florence, bw=10, delay='0.500458533008ms')
    net.addLink( MyrtleBeach , Wilmington, bw=10, delay='0.535621106262ms')
    net.addLink( Florence , Fayetteville, bw=10, delay='0.635356546039ms')
    net.addLink( Baldwin , Sparta, bw=10, delay='0.207442119893ms')
    net.addLink( Sparta , LevelCross, bw=10, delay='0.233328568173ms')
    net.addLink( Greensboro , Raleigh, bw=10, delay='0.554432026936ms')
    net.addLink( Raleigh , RockyMount, bw=10, delay='0.395153506953ms')
    net.addLink( Raleigh , Fayetteville, bw=10, delay='0.421263216838ms')
    net.addLink( RockyMount , Fayetteville, bw=10, delay='0.700320778342ms')
    net.addLink( Fayetteville , Wilmington, bw=10, delay='0.637770426137ms')

    
    net.build()

    # Connect each switch to a different controller
    net.get('s0').start([c1])
    net.get('s1').start([c1])
    net.get('s2').start([c0])
    net.get('s3').start([c1])
    net.get('s4').start([c1])
    net.get('s5').start([c1])
    net.get('s6').start([c1])
    net.get('s7').start([c1])
    net.get('s8').start([c1])
    net.get('s9').start([c1])
    net.get('s10').start([c0])
    net.get('s11').start([c2])
    net.get('s12').start([c2])
    net.get('s13').start([c0])
    net.get('s14').start([c0])
    net.get('s15').start([c0])
    net.get('s16').start([c0])
    net.get('s17').start([c0])
    net.get('s18').start([c0])
    net.get('s19').start([c0])
    net.get('s20').start([c0])
    net.get('s21').start([c2])
    net.get('s22').start([c0])
    net.get('s23').start([c0])
    net.get('s24').start([c0])
    net.get('s25').start([c2])
    net.get('s26').start([c2])
    net.get('s27').start([c2])
    net.get('s28').start([c2])
    net.get('s29').start([c1])
    net.get('s30').start([c1])
    net.get('s31').start([c2])
    net.get('s32').start([c2])
    net.get('s33').start([c2])
    net.get('s34').start([c2])
    net.get('s35').start([c3])
    net.get('s36').start([c0])
    net.get('s37').start([c1])
    net.get('s38').start([c1])
    net.get('s39').start([c1])
    net.get('s40').start([c1])
    net.get('s41').start([c3])
    net.get('s42').start([c3])
    net.get('s43').start([c3])
    net.get('s44').start([c3])
    s1.cmdPrint('ovs-vsctl show')

    CLI( net )
    net.stop()

if __name__ == '__main__':
    setLogLevel( 'info' )
    myNet()
